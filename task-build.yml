---
platform: linux

image_resource:
  type: docker-image
  source: {repository: ubuntu}

inputs:
- name: node-app

run:
  path: sh
  args:
  - -c
  - |
    apt-get install wget -y
    wget https://npmjs.org/install.sh
    chmod +x install.sh
    sudo ./install.sh
    node -v
    npm -v
    cd node-app
    npm install
    npm audit fix
    npm test
    cd examples
    npm install
    npm install -g npm-cli-login
    npm-cli-login -u mar00nie -p dissertationproject -e yangyangteng@hotmail.com
    npm whoami
    npm publish
